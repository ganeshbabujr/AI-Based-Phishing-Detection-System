<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PhishGuard AI - Advanced Threat Detection</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&amp;family=JetBrains+Mono:wght@400;500;600&amp;display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body {
      box-sizing: border-box;
      font-family: 'Outfit', sans-serif;
      background: #030712;
    }
    
    .mono { font-family: 'JetBrains Mono', monospace; }
    
    /* Animated gradient background */
    .hero-bg {
      background: 
        radial-gradient(ellipse 80% 50% at 50% -20%, rgba(16, 185, 129, 0.15), transparent),
        radial-gradient(ellipse 60% 40% at 100% 0%, rgba(6, 182, 212, 0.1), transparent),
        radial-gradient(ellipse 50% 30% at 0% 100%, rgba(139, 92, 246, 0.08), transparent);
    }
    
    /* Animated orbs */
    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      animation: orbFloat 20s ease-in-out infinite;
      pointer-events: none;
    }
    
    .orb-1 {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%);
      top: -100px;
      left: -100px;
      animation-delay: 0s;
    }
    
    .orb-2 {
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(6, 182, 212, 0.25) 0%, transparent 70%);
      top: 50%;
      right: -50px;
      animation-delay: -7s;
    }
    
    .orb-3 {
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, transparent 70%);
      bottom: -100px;
      left: 30%;
      animation-delay: -14s;
    }
    
    @keyframes orbFloat {
      0%, 100% { transform: translate(0, 0) scale(1); }
      25% { transform: translate(30px, -30px) scale(1.05); }
      50% { transform: translate(-20px, 20px) scale(0.95); }
      75% { transform: translate(20px, 30px) scale(1.02); }
    }
    
    /* Grid pattern */
    .grid-pattern {
      background-image: 
        linear-gradient(rgba(16, 185, 129, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(16, 185, 129, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }
    
    /* Glass cards */
    .glass {
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(24px);
      border: 1px solid rgba(148, 163, 184, 0.1);
    }
    
    .glass-strong {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(32px);
      border: 1px solid rgba(148, 163, 184, 0.15);
    }
    
    /* Glow effects */
    .glow-border {
      position: relative;
    }
    
    .glow-border::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.5), rgba(6, 182, 212, 0.3), rgba(139, 92, 246, 0.2));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
      opacity: 0.6;
      transition: opacity 0.3s ease;
    }
    
    .glow-border:hover::before {
      opacity: 1;
    }
    
    /* Neon text */
    .neon-text {
      text-shadow: 0 0 20px rgba(16, 185, 129, 0.5), 0 0 40px rgba(16, 185, 129, 0.3);
    }
    
    /* Input styling */
    .input-wrapper {
      background: rgba(2, 6, 23, 0.8);
      border: 2px solid rgba(51, 65, 85, 0.5);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    
    .input-wrapper::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), transparent, rgba(6, 182, 212, 0.05));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .input-wrapper:focus-within {
      border-color: rgba(16, 185, 129, 0.5);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1), 0 0 60px rgba(16, 185, 129, 0.1);
    }
    
    .input-wrapper:focus-within::before {
      opacity: 1;
    }
    
    .input-wrapper textarea {
      background: transparent;
      resize: none;
      position: relative;
      z-index: 1;
    }
    
    .input-wrapper textarea:focus { outline: none; }
    .input-wrapper textarea::placeholder { color: rgba(100, 116, 139, 0.6); }
    
    /* Scanning animation */
    .scan-effect {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }
    
    .scan-line {
      position: absolute;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, rgba(16, 185, 129, 0.8), rgba(6, 182, 212, 0.8), transparent);
      box-shadow: 0 0 20px rgba(16, 185, 129, 0.6);
      animation: scanMove 1.5s ease-in-out infinite;
    }
    
    @keyframes scanMove {
      0% { top: 0; opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { top: 100%; opacity: 0; }
    }
    
    /* Primary button */
    .btn-primary {
      background: linear-gradient(135deg, #10b981 0%, #06b6d4 50%, #8b5cf6 100%);
      background-size: 200% 200%;
      animation: gradientShift 3s ease infinite;
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%, rgba(255,255,255,0.1) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 20px 50px rgba(16, 185, 129, 0.35), 0 0 0 1px rgba(16, 185, 129, 0.2);
    }
    
    .btn-primary:hover::before {
      opacity: 1;
    }
    
    .btn-primary:active {
      transform: translateY(-1px);
    }
    
    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    /* Sample cards */
    .sample-card {
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid rgba(51, 65, 85, 0.5);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    
    .sample-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, transparent, rgba(255,255,255,0.02));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .sample-card:hover {
      transform: translateY(-6px) scale(1.01);
      border-color: rgba(100, 116, 139, 0.5);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }
    
    .sample-card:hover::before {
      opacity: 1;
    }
    
    .sample-card.safe:hover {
      border-color: rgba(16, 185, 129, 0.5);
      box-shadow: 0 25px 50px rgba(16, 185, 129, 0.15);
    }
    
    .sample-card.danger:hover {
      border-color: rgba(239, 68, 68, 0.5);
      box-shadow: 0 25px 50px rgba(239, 68, 68, 0.15);
    }
    
    /* Risk badge */
    .risk-badge {
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }
    
    /* Result cards */
    .result-safe {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(6, 182, 212, 0.05) 100%);
      border: 2px solid rgba(16, 185, 129, 0.4);
      box-shadow: 0 0 80px rgba(16, 185, 129, 0.15), inset 0 1px 0 rgba(255,255,255,0.05);
    }
    
    .result-danger {
      background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(249, 115, 22, 0.05) 100%);
      border: 2px solid rgba(239, 68, 68, 0.4);
      box-shadow: 0 0 80px rgba(239, 68, 68, 0.15), inset 0 1px 0 rgba(255,255,255,0.05);
    }
    
    /* Confidence ring */
    .confidence-ring {
      width: 140px;
      height: 140px;
      position: relative;
    }
    
    .confidence-ring svg {
      transform: rotate(-90deg);
      filter: drop-shadow(0 0 10px currentColor);
    }
    
    .confidence-ring .track {
      stroke: rgba(51, 65, 85, 0.3);
    }
    
    .confidence-ring .progress {
      stroke-dasharray: 377;
      stroke-dashoffset: 377;
      transition: stroke-dashoffset 1.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Loading animation */
    .loader {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: center;
    }
    
    .loader-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: linear-gradient(135deg, #10b981, #06b6d4);
      animation: loaderPulse 1.4s ease-in-out infinite;
    }
    
    .loader-dot:nth-child(2) { animation-delay: 0.15s; }
    .loader-dot:nth-child(3) { animation-delay: 0.3s; }
    .loader-dot:nth-child(4) { animation-delay: 0.45s; }
    
    @keyframes loaderPulse {
      0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
      40% { transform: scale(1.2); opacity: 1; }
    }
    
    /* Architecture nodes */
    .arch-step {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(51, 65, 85, 0.5);
      transition: all 0.3s ease;
      position: relative;
    }
    
    .arch-step:hover {
      transform: translateY(-4px);
      border-color: rgba(16, 185, 129, 0.5);
      box-shadow: 0 15px 40px rgba(16, 185, 129, 0.1);
    }
    
    .arch-step::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 40%;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(16, 185, 129, 0.5), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .arch-step:hover::after {
      opacity: 1;
    }
    
    /* Stats cards */
    .stat-card {
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid rgba(51, 65, 85, 0.4);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #10b981, #06b6d4);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }
    
    .stat-card:hover {
      transform: translateY(-6px);
      border-color: rgba(16, 185, 129, 0.3);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
    }
    
    .stat-card:hover::before {
      transform: scaleX(1);
    }
    
    /* Feature tags */
    .feature-tag {
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.2);
      transition: all 0.3s ease;
    }
    
    .feature-tag:hover {
      background: rgba(16, 185, 129, 0.2);
      border-color: rgba(16, 185, 129, 0.4);
      transform: translateY(-2px);
    }
    
    /* Threat indicator */
    .threat-indicator {
      animation: threatPulse 2s ease-in-out infinite;
    }
    
    @keyframes threatPulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
      50% { opacity: 0.8; box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
    }
    
    /* Shield animation */
    .shield-icon {
      animation: shieldPulse 3s ease-in-out infinite;
    }
    
    @keyframes shieldPulse {
      0%, 100% { filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.5)); }
      50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.8)); }
    }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: rgba(15, 23, 42, 0.5); }
    ::-webkit-scrollbar-thumb { 
      background: linear-gradient(180deg, #10b981, #06b6d4); 
      border-radius: 4px; 
    }
    ::-webkit-scrollbar-thumb:hover { 
      background: linear-gradient(180deg, #059669, #0891b2); 
    }
    
    /* Light Theme */
    .light-theme {
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%) !important;
    }
    
    .light-theme .hero-bg {
      background: 
        radial-gradient(ellipse 80% 50% at 50% -20%, rgba(16, 185, 129, 0.08), transparent),
        radial-gradient(ellipse 60% 40% at 100% 0%, rgba(6, 182, 212, 0.06), transparent);
    }
    
    .light-theme .grid-pattern {
      background-image: 
        linear-gradient(rgba(16, 185, 129, 0.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(16, 185, 129, 0.06) 1px, transparent 1px);
    }
    
    .light-theme .orb { opacity: 0.3; }
    
    .light-theme .glass,
    .light-theme .glass-strong {
      background: rgba(255, 255, 255, 0.85) !important;
      border-color: rgba(148, 163, 184, 0.25) !important;
    }
    
    .light-theme .input-wrapper {
      background: rgba(255, 255, 255, 0.9) !important;
      border-color: rgba(148, 163, 184, 0.3) !important;
    }
    
    .light-theme .input-wrapper textarea {
      color: #1e293b !important;
    }
    
    .light-theme .input-wrapper textarea::placeholder {
      color: rgba(100, 116, 139, 0.7) !important;
    }
    
    .light-theme .sample-card,
    .light-theme .arch-step,
    .light-theme .stat-card {
      background: rgba(255, 255, 255, 0.7) !important;
      border-color: rgba(148, 163, 184, 0.2) !important;
    }
    
    .light-theme header {
      background: rgba(255, 255, 255, 0.8) !important;
      border-color: rgba(148, 163, 184, 0.2) !important;
    }
    
    .light-theme footer {
      border-color: rgba(148, 163, 184, 0.2) !important;
    }
    
    .light-theme .text-white { color: #1e293b !important; }
    .light-theme .text-slate-100 { color: #334155 !important; }
    .light-theme .text-slate-400 { color: #64748b !important; }
    .light-theme .text-slate-500 { color: #94a3b8 !important; }
    .light-theme .text-slate-600 { color: #cbd5e1 !important; }
    
    .light-theme .bg-slate-800\/50,
    .light-theme .bg-slate-900\/60 {
      background: rgba(241, 245, 249, 0.8) !important;
    }
    
    /* Icon containers */
    .icon-box {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(6, 182, 212, 0.1) 100%);
    }
    
    .icon-box-danger {
      background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(249, 115, 22, 0.1) 100%);
    }
    
    /* Typing cursor */
    .cursor-blink {
      animation: blink 1s step-end infinite;
    }
    
    @keyframes blink {
      50% { opacity: 0; }
    }
    
    /* Smooth reveal */
    .reveal {
      animation: revealUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      opacity: 0;
    }
    
    @keyframes revealUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .reveal-delay-1 { animation-delay: 0.1s; }
    .reveal-delay-2 { animation-delay: 0.2s; }
    .reveal-delay-3 { animation-delay: 0.3s; }
    .reveal-delay-4 { animation-delay: 0.4s; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gray-950 text-slate-100 overflow-auto"><!-- Animated Background -->
  <div class="fixed inset-0 hero-bg pointer-events-none"></div>
  <div class="fixed inset-0 grid-pattern pointer-events-none"></div><!-- Floating Orbs -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
   <div class="orb orb-1"></div>
   <div class="orb orb-2"></div>
   <div class="orb orb-3"></div>
  </div><!-- Toast Notification -->
  <div id="toast" class="fixed top-6 right-6 z-[100] transform translate-x-full opacity-0 transition-all duration-300">
   <div class="glass-strong rounded-2xl p-4 flex items-center gap-3 shadow-2xl border border-slate-700/50">
    <div id="toast-icon" class="w-10 h-10 rounded-xl flex items-center justify-center"></div>
    <div>
     <p id="toast-title" class="text-sm font-bold text-white"></p>
     <p id="toast-message" class="text-xs text-slate-400"></p>
    </div><button id="toast-close" class="ml-2 text-slate-500 hover:text-white transition-colors">
     <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
     </svg></button>
   </div>
  </div><!-- History Modal -->
  <div id="history-modal" class="fixed inset-0 z-[90] hidden">
   <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" id="history-backdrop"></div>
   <div class="absolute inset-4 sm:inset-8 lg:inset-16 flex items-start justify-center overflow-auto py-8">
    <div class="glass-strong rounded-3xl w-full max-w-3xl p-6 sm:p-8 relative">
     <div class="flex items-center justify-between mb-6">
      <div class="flex items-center gap-3">
       <div class="w-12 h-12 rounded-2xl icon-box flex items-center justify-center">
        <svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <div>
        <h3 class="text-xl font-bold text-white">Scan History</h3>
        <p class="text-xs text-slate-500">Your recent analysis results</p>
       </div>
      </div><button id="close-history" class="w-10 h-10 rounded-xl bg-slate-800/50 flex items-center justify-center hover:bg-slate-700/50 transition-all">
       <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
     </div>
     <div id="history-list" class="space-y-3 max-h-[60vh] overflow-auto pr-2"><!-- History items injected here -->
     </div>
     <div id="history-empty" class="text-center py-12">
      <div class="w-20 h-20 mx-auto mb-4 rounded-3xl bg-slate-800/50 flex items-center justify-center">
       <svg class="w-10 h-10 text-slate-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
       </svg>
      </div>
      <p class="text-slate-400 font-medium mb-1">No scans yet</p>
      <p class="text-xs text-slate-600">Your analysis history will appear here</p>
     </div>
     <div class="flex items-center justify-between mt-6 pt-6 border-t border-slate-700/50"><button id="clear-history" class="flex items-center gap-2 px-4 py-2 rounded-xl text-sm text-red-400 hover:bg-red-500/10 transition-all">
       <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
       </svg> Clear All </button> <button id="export-history" class="flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-all">
       <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
       </svg> Export Report </button>
     </div>
    </div>
   </div>
  </div>
  <div class="relative z-10 min-h-full w-full flex flex-col"><!-- Header -->
   <header class="sticky top-0 z-50 backdrop-blur-2xl bg-gray-950/70 border-b border-slate-800/50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex items-center justify-between h-16 sm:h-18"><!-- Logo -->
      <div class="flex items-center gap-3">
       <div class="w-10 h-10 sm:w-11 sm:h-11 rounded-xl icon-box flex items-center justify-center">
        <svg class="w-6 h-6 text-emerald-400 shield-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
        </svg>
       </div>
       <div>
        <h1 class="text-base sm:text-lg font-bold text-white tracking-tight">PhishGuard<span class="text-emerald-400">AI</span></h1>
        <p class="text-[10px] sm:text-xs text-slate-500 mono tracking-wide">v2.0 â€¢ ML Threat Detection</p>
       </div>
      </div><!-- Right side -->
      <div class="flex items-center gap-3 sm:gap-5"><!-- Live Clock -->
       <div class="hidden sm:flex items-center gap-2 text-xs text-slate-400 mono">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="2" /> <path stroke-linecap="round" stroke-width="2" d="M12 6v6l4 2" />
        </svg><span id="live-clock">--:--:--</span>
       </div><!-- Theme Toggle --> <button id="theme-toggle" class="w-10 h-10 rounded-xl glass flex items-center justify-center hover:bg-slate-700/50 transition-all" aria-label="Toggle theme">
        <svg id="theme-icon-dark" class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
        </svg>
        <svg id="theme-icon-light" class="w-5 h-5 text-amber-400 hidden" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg></button> <!-- Status -->
       <div class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20"><span class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></span> <span class="text-xs text-emerald-400 font-semibold hidden sm:inline">ONLINE</span>
       </div>
      </div>
     </div>
    </div>
   </header>
   <main class="flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 w-full"><!-- Hero Section -->
    <section class="text-center mb-12 sm:mb-16 reveal"><!-- Badge -->
     <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full glass border border-slate-700/50 mb-6"><span class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></span> <span class="text-xs text-slate-300 font-medium">Powered by Machine Learning</span>
      <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
      </svg>
     </div><!-- Title -->
     <h2 id="hero-title" class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-black text-white mb-4 leading-tight">Detect Phishing Threats<br><span class="bg-gradient-to-r from-emerald-400 via-cyan-400 to-violet-400 bg-clip-text text-transparent neon-text">In Real-Time</span></h2><!-- Subtitle -->
     <p id="hero-subtitle" class="text-base sm:text-lg text-slate-400 max-w-2xl mx-auto mb-8">Advanced AI-powered analysis to protect you from email scams, SMS phishing, and social engineering attacks</p><!-- Quick Stats -->
     <div class="flex flex-wrap justify-center gap-6 sm:gap-10 text-center">
      <div>
       <p class="text-2xl sm:text-3xl font-bold text-emerald-400">95%</p>
       <p class="text-xs text-slate-500">Accuracy</p>
      </div>
      <div class="w-px h-12 bg-slate-800 hidden sm:block"></div>
      <div>
       <p class="text-2xl sm:text-3xl font-bold text-cyan-400">&lt;1s</p>
       <p class="text-xs text-slate-500">Response</p>
      </div>
      <div class="w-px h-12 bg-slate-800 hidden sm:block"></div>
      <div>
       <p class="text-2xl sm:text-3xl font-bold text-violet-400">5K+</p>
       <p class="text-xs text-slate-500">Trained Samples</p>
      </div>
     </div>
    </section><!-- Main Detection Panel -->
    <section class="mb-12 sm:mb-16 reveal reveal-delay-1" aria-label="Detection Panel">
     <div class="glass-strong glow-border rounded-3xl p-6 sm:p-8 lg:p-10 max-w-4xl mx-auto"><!-- Panel Header -->
      <div class="flex items-center justify-between mb-6">
       <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl icon-box flex items-center justify-center">
         <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
         </svg>
        </div>
        <div>
         <h3 class="text-lg font-bold text-white">Threat Scanner</h3>
         <p class="text-xs text-slate-500">Paste message to analyze</p>
        </div>
       </div><!-- History Button --> <button id="history-btn" class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 transition-all">
        <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg><span class="text-xs text-slate-400 font-medium hidden sm:inline">History</span> <span id="history-count" class="w-5 h-5 rounded-full bg-emerald-500/20 text-emerald-400 text-[10px] font-bold flex items-center justify-center">0</span> </button> <!-- Threat Level Indicator -->
       <div id="threat-level" class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800/50"><span class="w-2 h-2 bg-slate-500 rounded-full"></span> <span class="text-xs text-slate-400 font-medium">STANDBY</span>
       </div>
      </div><!-- Input Area -->
      <div class="input-wrapper rounded-2xl p-5 mb-5">
       <div id="scan-effect" class="scan-effect hidden">
        <div class="scan-line"></div>
       </div><label for="message-input" class="sr-only">Enter message to analyze</label> <textarea id="message-input" class="w-full h-40 sm:h-48 text-slate-100 text-sm sm:text-base mono leading-relaxed" placeholder="Paste your suspicious email, SMS, or message here...

Example: 'URGENT: Your account has been compromised! Click http://verify-now.xyz to secure your account immediately.'"></textarea> <!-- Input Footer -->
       <div class="flex flex-wrap items-center justify-between gap-4 pt-4 border-t border-slate-800/50 relative z-10">
        <div class="flex items-center gap-4"><span id="char-count" class="text-xs text-slate-500 mono">0 characters</span> <span class="w-1 h-1 bg-slate-700 rounded-full"></span> <span id="word-count" class="text-xs text-slate-500">0 words</span>
        </div>
        <div class="flex items-center gap-3"><span class="text-[10px] text-slate-600 hidden sm:inline">Ctrl + Enter to analyze</span> <button id="paste-btn" class="text-xs text-slate-400 hover:text-cyan-400 transition-colors flex items-center gap-1.5" title="Paste from clipboard">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg> Paste </button> <button id="clear-btn" class="text-xs text-slate-400 hover:text-red-400 transition-colors flex items-center gap-1.5">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg> Clear </button>
        </div>
       </div>
      </div><!-- Analyze Button --> <button id="analyze-btn" class="btn-primary w-full py-5 rounded-2xl text-white font-bold text-lg relative z-10"> <span class="flex items-center justify-center gap-3">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
        </svg><span id="btn-text">Analyze Message</span> </span> </button> <!-- Loading State -->
      <div id="loading-state" class="hidden py-12">
       <div class="flex flex-col items-center gap-6">
        <div class="loader">
         <div class="loader-dot"></div>
         <div class="loader-dot"></div>
         <div class="loader-dot"></div>
         <div class="loader-dot"></div>
        </div>
        <div class="text-center">
         <p class="text-lg font-semibold text-white mb-1">Analyzing Message</p>
         <p id="loading-step" class="text-sm text-slate-400">Initializing TF-IDF vectorizer...</p>
        </div>
       </div>
      </div><!-- Result Container -->
      <div id="result-container" class="hidden mt-6"><!-- Results injected by JS -->
      </div>
     </div>
    </section><!-- Sample Messages Grid -->
    <section class="mb-12 sm:mb-16 reveal reveal-delay-2" aria-label="Sample Messages">
     <div class="flex items-center justify-between mb-6">
      <div>
       <h3 class="text-xl sm:text-2xl font-bold text-white mb-1">Test Samples</h3>
       <p class="text-sm text-slate-500">Click any card to load a sample message</p>
      </div>
     </div>
     <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5"><!-- Safe Messages Column -->
      <div class="space-y-4">
       <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 rounded-lg bg-emerald-500/15 flex items-center justify-center">
         <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg>
        </div><span class="text-sm font-bold text-emerald-400 uppercase tracking-wider">Legitimate</span>
       </div><button class="sample-card safe w-full p-5 rounded-2xl text-left" data-type="safe" data-message="Hi Sarah, just a quick reminder about our project sync meeting tomorrow at 10 AM in Conference Room B. Please bring your progress report and any blockers you'd like to discuss. Let me know if the time doesn't work. Best, Michael - Engineering Lead">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center flex-shrink-0">
          <svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
         </div>
         <div class="flex-1 min-w-0">
          <div class="flex items-center gap-2 mb-1">
           <p class="text-sm font-bold text-white">Meeting Reminder</p><span class="risk-badge px-2 py-0.5 rounded bg-emerald-500/20 text-emerald-400">LOW RISK</span>
          </div>
          <p class="text-xs text-slate-400 mb-2 line-clamp-2">Professional workplace communication with proper context and signature</p>
          <div class="flex items-center gap-2 text-[10px] text-slate-500"><span>Internal</span> <span>â€¢</span> <span>Business</span>
          </div>
         </div>
        </div></button> <button class="sample-card safe w-full p-5 rounded-2xl text-left" data-type="safe" data-message="Your Amazon order #123-7890456-1234567 has shipped! Track your package at amazon.com/orders. Estimated delivery: Friday, March 15, 2024. Thank you for shopping with us! - Amazon Customer Service">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center flex-shrink-0">
          <svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
          </svg>
         </div>
         <div class="flex-1 min-w-0">
          <div class="flex items-center gap-2 mb-1">
           <p class="text-sm font-bold text-white">Order Confirmation</p><span class="risk-badge px-2 py-0.5 rounded bg-emerald-500/20 text-emerald-400">LOW RISK</span>
          </div>
          <p class="text-xs text-slate-400 mb-2 line-clamp-2">Legitimate e-commerce shipping notification with valid domain</p>
          <div class="flex items-center gap-2 text-[10px] text-slate-500"><span>E-commerce</span> <span>â€¢</span> <span>Transactional</span>
          </div>
         </div>
        </div></button>
      </div><!-- Phishing Messages Column -->
      <div class="space-y-4">
       <div class="flex items-center gap-2 mb-4">
        <div class="w-8 h-8 rounded-lg bg-red-500/15 flex items-center justify-center">
         <svg class="w-4 h-4 text-red-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
         </svg>
        </div><span class="text-sm font-bold text-red-400 uppercase tracking-wider">Phishing</span>
       </div><button class="sample-card danger w-full p-5 rounded-2xl text-left" data-type="phishing" data-message="âš ï¸ URGENT SECURITY ALERT: Your bank account has been locked due to suspicious activity! Click here immediately to verify your identity and restore access: http://secure-bankverify.xyz/login - Failure to respond within 24 HOURS will result in permanent account closure!">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center flex-shrink-0 threat-indicator">
          <svg class="w-6 h-6 text-red-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
         </div>
         <div class="flex-1 min-w-0">
          <div class="flex items-center gap-2 mb-1">
           <p class="text-sm font-bold text-white">Fake Bank Alert</p><span class="risk-badge px-2 py-0.5 rounded bg-red-500/20 text-red-400">HIGH RISK</span>
          </div>
          <p class="text-xs text-slate-400 mb-2 line-clamp-2">Urgency tactics, suspicious URL, threatening language</p>
          <div class="flex items-center gap-2 text-[10px] text-slate-500"><span>Financial</span> <span>â€¢</span> <span>Credential Theft</span>
          </div>
         </div>
        </div></button> <button class="sample-card danger w-full p-5 rounded-2xl text-left" data-type="phishing" data-message="ðŸŽ‰ CONGRATULATIONS!!! You have been randomly selected as our WINNER of $5,000,000 USD in the International Email Lottery! To claim your prize money, reply with your full name, home address, phone number, and bank account details to: prize-claims@winner-lottery.tk">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center flex-shrink-0 threat-indicator">
          <svg class="w-6 h-6 text-red-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
         </div>
         <div class="flex-1 min-w-0">
          <div class="flex items-center gap-2 mb-1">
           <p class="text-sm font-bold text-white">Lottery Scam</p><span class="risk-badge px-2 py-0.5 rounded bg-red-500/20 text-red-400">HIGH RISK</span>
          </div>
          <p class="text-xs text-slate-400 mb-2 line-clamp-2">Too good to be true, requests personal &amp; financial info</p>
          <div class="flex items-center gap-2 text-[10px] text-slate-500"><span>Advance Fee</span> <span>â€¢</span> <span>Identity Theft</span>
          </div>
         </div>
        </div></button>
      </div>
     </div>
    </section><!-- ML Pipeline Section -->
    <section class="mb-12 sm:mb-16 reveal reveal-delay-3" aria-label="How It Works">
     <div class="text-center mb-8">
      <h3 class="text-xl sm:text-2xl font-bold text-white mb-2">ML Detection Pipeline</h3>
      <p class="text-sm text-slate-500">How our AI analyzes and classifies messages</p>
     </div>
     <div class="glass rounded-3xl p-6 sm:p-8"><!-- Pipeline Steps -->
      <div class="flex flex-col lg:flex-row items-center justify-between gap-4 lg:gap-6 mb-10"><!-- Step 1 -->
       <div class="arch-step rounded-2xl p-5 sm:p-6 text-center flex-1 max-w-xs w-full">
        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl icon-box flex items-center justify-center">
         <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
         </svg>
        </div><span class="inline-block px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 text-xs font-bold mb-2">STEP 1</span>
        <h4 class="text-base font-bold text-white mb-1">Input Text</h4>
        <p class="text-xs text-slate-400">Raw email or SMS message</p>
       </div><!-- Arrow -->
       <div class="hidden lg:flex items-center">
        <div class="w-12 h-0.5 bg-gradient-to-r from-emerald-500/50 to-cyan-500/50"></div>
        <svg class="w-4 h-4 text-cyan-400 -ml-1" fill="currentColor" viewbox="0 0 24 24"><path d="M14 5l7 7-7 7V5z" />
        </svg>
       </div>
       <svg class="lg:hidden w-6 h-6 text-slate-600 rotate-90 my-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
       </svg><!-- Step 2 -->
       <div class="arch-step rounded-2xl p-5 sm:p-6 text-center flex-1 max-w-xs w-full">
        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-cyan-500/15 flex items-center justify-center">
         <svg class="w-8 h-8 text-cyan-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
         </svg>
        </div><span class="inline-block px-3 py-1 rounded-full bg-cyan-500/10 text-cyan-400 text-xs font-bold mb-2">STEP 2</span>
        <h4 class="text-base font-bold text-white mb-1">TF-IDF Vectorization</h4>
        <p class="text-xs text-slate-400">Convert text to numerical features</p>
       </div><!-- Arrow -->
       <div class="hidden lg:flex items-center">
        <div class="w-12 h-0.5 bg-gradient-to-r from-cyan-500/50 to-violet-500/50"></div>
        <svg class="w-4 h-4 text-violet-400 -ml-1" fill="currentColor" viewbox="0 0 24 24"><path d="M14 5l7 7-7 7V5z" />
        </svg>
       </div>
       <svg class="lg:hidden w-6 h-6 text-slate-600 rotate-90 my-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
       </svg><!-- Step 3 -->
       <div class="arch-step rounded-2xl p-5 sm:p-6 text-center flex-1 max-w-xs w-full">
        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-violet-500/15 flex items-center justify-center">
         <svg class="w-8 h-8 text-violet-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
         </svg>
        </div><span class="inline-block px-3 py-1 rounded-full bg-violet-500/10 text-violet-400 text-xs font-bold mb-2">STEP 3</span>
        <h4 class="text-base font-bold text-white mb-1">ML Classification</h4>
        <p class="text-xs text-slate-400">Logistic Regression prediction</p>
       </div><!-- Arrow -->
       <div class="hidden lg:flex items-center">
        <div class="w-12 h-0.5 bg-gradient-to-r from-violet-500/50 to-emerald-500/50"></div>
        <svg class="w-4 h-4 text-emerald-400 -ml-1" fill="currentColor" viewbox="0 0 24 24"><path d="M14 5l7 7-7 7V5z" />
        </svg>
       </div>
       <svg class="lg:hidden w-6 h-6 text-slate-600 rotate-90 my-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
       </svg><!-- Step 4 -->
       <div class="arch-step rounded-2xl p-5 sm:p-6 text-center flex-1 max-w-xs w-full">
        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-emerald-500/15 flex items-center justify-center">
         <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
         </svg>
        </div><span class="inline-block px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 text-xs font-bold mb-2">STEP 4</span>
        <h4 class="text-base font-bold text-white mb-1">Result Output</h4>
        <p class="text-xs text-slate-400">Safe / Phishing with confidence</p>
       </div>
      </div><!-- Tech Stack -->
      <div class="pt-6 border-t border-slate-700/50">
       <p class="text-xs text-slate-500 uppercase tracking-wider mb-4 text-center font-semibold">Technology Stack</p>
       <div class="flex flex-wrap justify-center gap-2 sm:gap-3"><span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">Python 3.11</span> <span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">Flask</span> <span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">Scikit-learn</span> <span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">TF-IDF</span> <span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">Logistic Regression</span> <span class="feature-tag px-4 py-2 rounded-xl text-xs font-semibold text-emerald-400">HTML/CSS/JS</span>
       </div>
      </div>
     </div>
    </section><!-- Stats Grid -->
    <section class="mb-12 sm:mb-16 reveal reveal-delay-4" aria-label="Performance Stats">
     <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      <div class="stat-card rounded-2xl p-5 sm:p-6 text-center">
       <div class="w-14 h-14 mx-auto mb-4 rounded-2xl icon-box flex items-center justify-center">
        <svg class="w-7 h-7 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <p class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent mb-1">95%</p>
       <p class="text-xs text-slate-500 font-medium">Model Accuracy</p>
      </div>
      <div class="stat-card rounded-2xl p-5 sm:p-6 text-center">
       <div class="w-14 h-14 mx-auto mb-4 rounded-2xl bg-cyan-500/15 flex items-center justify-center">
        <svg class="w-7 h-7 text-cyan-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
       </div>
       <p id="scan-count" class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-cyan-400 to-violet-400 bg-clip-text text-transparent mb-1">0</p>
       <p class="text-xs text-slate-500 font-medium">Scans Today</p>
      </div>
      <div class="stat-card rounded-2xl p-5 sm:p-6 text-center">
       <div class="w-14 h-14 mx-auto mb-4 rounded-2xl bg-violet-500/15 flex items-center justify-center">
        <svg class="w-7 h-7 text-violet-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
        </svg>
       </div>
       <p class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-violet-400 to-pink-400 bg-clip-text text-transparent mb-1">5K+</p>
       <p class="text-xs text-slate-500 font-medium">Training Samples</p>
      </div>
      <div class="stat-card rounded-2xl p-5 sm:p-6 text-center">
       <div class="w-14 h-14 mx-auto mb-4 rounded-2xl bg-pink-500/15 flex items-center justify-center">
        <svg class="w-7 h-7 text-pink-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <p class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-pink-400 to-emerald-400 bg-clip-text text-transparent mb-1">&lt;1s</p>
       <p class="text-xs text-slate-500 font-medium">Response Time</p>
      </div>
     </div>
    </section><!-- Detection Features -->
    <section class="mb-12 sm:mb-16" aria-label="Detection Features">
     <div class="text-center mb-8">
      <h3 class="text-xl sm:text-2xl font-bold text-white mb-2">What We Detect</h3>
      <p class="text-sm text-slate-500">Our AI analyzes multiple threat indicators</p>
     </div>
     <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4">
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-red-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Suspicious URLs</p>
      </div>
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-orange-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Urgency Tactics</p>
      </div>
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-yellow-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Money Scams</p>
      </div>
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-cyan-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Credential Theft</p>
      </div>
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-violet-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-violet-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Impersonation</p>
      </div>
      <div class="glass rounded-2xl p-4 text-center">
       <div class="w-10 h-10 mx-auto mb-3 rounded-xl bg-pink-500/15 flex items-center justify-center">
        <svg class="w-5 h-5 text-pink-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
       </div>
       <p class="text-xs font-semibold text-white">Spam Patterns</p>
      </div>
     </div>
    </section>
   </main><!-- Footer -->
   <footer class="border-t border-slate-800/50 py-8 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
      <div class="flex items-center gap-3">
       <div class="w-9 h-9 rounded-xl icon-box flex items-center justify-center">
        <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
        </svg>
       </div>
       <div>
        <p class="text-sm font-semibold text-white">PhishGuard<span class="text-emerald-400">AI</span></p>
        <p class="text-xs text-slate-500">ML-Powered Security</p>
       </div>
      </div>
      <p id="footer-text" class="text-xs text-slate-500 mono">CSE Final Year Project Â© 2024</p>
     </div>
    </div>
   </footer>
  </div>
  <script>
    // Scan History Storage
    let scanHistory = [];
    const MAX_HISTORY = 50;
    
    // Theme Management
    let isDarkTheme = true;
    
    // Configuration
    const defaultConfig = {
      hero_title: 'Detect Phishing Threats In Real-Time',
      hero_subtitle: 'Advanced AI-powered analysis to protect you from email scams, SMS phishing, and social engineering attacks',
      button_text: 'Analyze Message',
      footer_text: 'CSE Final Year Project Â© 2024',
      background_color: '#030712',
      surface_color: '#0f172a',
      text_color: '#f1f5f9',
      primary_color: '#10b981',
      accent_color: '#06b6d4'
    };
    
    let config = { ...defaultConfig };
    let scanCount = 0;
    
    // DOM Elements
    const messageInput = document.getElementById('message-input');
    const analyzeBtn = document.getElementById('analyze-btn');
    const btnText = document.getElementById('btn-text');
    const loadingState = document.getElementById('loading-state');
    const loadingStep = document.getElementById('loading-step');
    const resultContainer = document.getElementById('result-container');
    const charCount = document.getElementById('char-count');
    const wordCount = document.getElementById('word-count');
    const clearBtn = document.getElementById('clear-btn');
    const scanCountEl = document.getElementById('scan-count');
    const scanEffect = document.getElementById('scan-effect');
    const threatLevel = document.getElementById('threat-level');
    const liveClock = document.getElementById('live-clock');
    
    // Live clock
    function updateClock() {
      const now = new Date();
      liveClock.textContent = now.toLocaleTimeString('en-US', { hour12: false });
    }
    updateClock();
    setInterval(updateClock, 1000);
    
    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    const themeIconDark = document.getElementById('theme-icon-dark');
    const themeIconLight = document.getElementById('theme-icon-light');
    
    themeToggle.addEventListener('click', () => {
      isDarkTheme = !isDarkTheme;
      document.body.classList.toggle('light-theme', !isDarkTheme);
      themeIconDark.classList.toggle('hidden', !isDarkTheme);
      themeIconLight.classList.toggle('hidden', isDarkTheme);
      showToast(isDarkTheme ? 'Dark Mode' : 'Light Mode', 'Theme updated', 'info');
    });
    
    // Toast System
    const toast = document.getElementById('toast');
    const toastIcon = document.getElementById('toast-icon');
    const toastTitle = document.getElementById('toast-title');
    const toastMessage = document.getElementById('toast-message');
    const toastClose = document.getElementById('toast-close');
    let toastTimeout;
    
    function showToast(title, message, type = 'success') {
      clearTimeout(toastTimeout);
      
      const icons = {
        success: { bg: 'bg-emerald-500/20', color: 'text-emerald-400', svg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>' },
        error: { bg: 'bg-red-500/20', color: 'text-red-400', svg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>' },
        warning: { bg: 'bg-amber-500/20', color: 'text-amber-400', svg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>' },
        info: { bg: 'bg-cyan-500/20', color: 'text-cyan-400', svg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>' }
      };
      
      const icon = icons[type] || icons.info;
      toastIcon.className = `w-10 h-10 rounded-xl flex items-center justify-center ${icon.bg}`;
      toastIcon.innerHTML = `<svg class="w-5 h-5 ${icon.color}" fill="none" stroke="currentColor" viewBox="0 0 24 24">${icon.svg}</svg>`;
      toastTitle.textContent = title;
      toastMessage.textContent = message;
      
      toast.classList.remove('translate-x-full', 'opacity-0');
      
      toastTimeout = setTimeout(() => {
        toast.classList.add('translate-x-full', 'opacity-0');
      }, 4000);
    }
    
    toastClose.addEventListener('click', () => {
      toast.classList.add('translate-x-full', 'opacity-0');
    });
    
    // History Modal
    const historyBtn = document.getElementById('history-btn');
    const historyModal = document.getElementById('history-modal');
    const historyBackdrop = document.getElementById('history-backdrop');
    const closeHistory = document.getElementById('close-history');
    const historyList = document.getElementById('history-list');
    const historyEmpty = document.getElementById('history-empty');
    const historyCountEl = document.getElementById('history-count');
    const clearHistoryBtn = document.getElementById('clear-history');
    const exportHistoryBtn = document.getElementById('export-history');
    
    function openHistoryModal() {
      historyModal.classList.remove('hidden');
      renderHistory();
    }
    
    function closeHistoryModal() {
      historyModal.classList.add('hidden');
    }
    
    historyBtn.addEventListener('click', openHistoryModal);
    closeHistory.addEventListener('click', closeHistoryModal);
    historyBackdrop.addEventListener('click', closeHistoryModal);
    
    function addToHistory(message, result) {
      const entry = {
        id: Date.now(),
        timestamp: new Date().toISOString(),
        message: message.substring(0, 200) + (message.length > 200 ? '...' : ''),
        fullMessage: message,
        prediction: result.prediction,
        confidence: result.confidence,
        indicators: result.indicators,
        threatType: result.threatType
      };
      
      scanHistory.unshift(entry);
      if (scanHistory.length > MAX_HISTORY) scanHistory.pop();
      historyCountEl.textContent = scanHistory.length;
    }
    
    function renderHistory() {
      if (scanHistory.length === 0) {
        historyEmpty.classList.remove('hidden');
        historyList.innerHTML = '';
        return;
      }
      
      historyEmpty.classList.add('hidden');
      historyList.innerHTML = scanHistory.map(entry => {
        const isPhishing = entry.prediction === 'phishing';
        const date = new Date(entry.timestamp);
        const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        const dateStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        
        return `
          <div class="flex items-start gap-4 p-4 rounded-2xl ${isPhishing ? 'bg-red-500/5 border border-red-500/20' : 'bg-emerald-500/5 border border-emerald-500/20'} hover:scale-[1.01] transition-transform cursor-pointer history-item" data-id="${entry.id}">
            <div class="w-12 h-12 rounded-xl flex-shrink-0 flex items-center justify-center ${isPhishing ? 'bg-red-500/15' : 'bg-emerald-500/15'}">
              ${isPhishing ? 
                '<svg class="w-6 h-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>' :
                '<svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>'
              }
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-2 mb-1">
                <span class="text-sm font-bold ${isPhishing ? 'text-red-400' : 'text-emerald-400'}">${isPhishing ? 'Phishing' : 'Safe'}</span>
                <span class="text-[10px] px-2 py-0.5 rounded-full ${isPhishing ? 'bg-red-500/20 text-red-300' : 'bg-emerald-500/20 text-emerald-300'}">${entry.confidence.toFixed(0)}%</span>
                <span class="text-[10px] text-slate-500 ml-auto mono">${dateStr} ${timeStr}</span>
              </div>
              <p class="text-xs text-slate-400 line-clamp-2">${entry.message}</p>
            </div>
            <button class="delete-history p-2 rounded-lg hover:bg-red-500/20 transition-colors" data-id="${entry.id}">
              <svg class="w-4 h-4 text-slate-500 hover:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
              </svg>
            </button>
          </div>
        `;
      }).join('');
      
      // Add event listeners for history items
      historyList.querySelectorAll('.history-item').forEach(item => {
        item.addEventListener('click', (e) => {
          if (e.target.closest('.delete-history')) return;
          const id = parseInt(item.dataset.id);
          const entry = scanHistory.find(h => h.id === id);
          if (entry) {
            messageInput.value = entry.fullMessage;
            charCount.textContent = `${entry.fullMessage.length} characters`;
            wordCount.textContent = `${entry.fullMessage.trim().split(/\s+/).length} words`;
            closeHistoryModal();
            showToast('Message Loaded', 'Ready to re-analyze', 'info');
          }
        });
      });
      
      historyList.querySelectorAll('.delete-history').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const id = parseInt(btn.dataset.id);
          scanHistory = scanHistory.filter(h => h.id !== id);
          historyCountEl.textContent = scanHistory.length;
          renderHistory();
          showToast('Deleted', 'History entry removed', 'info');
        });
      });
    }
    
    clearHistoryBtn.addEventListener('click', () => {
      if (scanHistory.length === 0) return;
      scanHistory = [];
      historyCountEl.textContent = 0;
      renderHistory();
      showToast('Cleared', 'All history removed', 'success');
    });
    
    // Export History as Text Report
    exportHistoryBtn.addEventListener('click', () => {
      if (scanHistory.length === 0) {
        showToast('No Data', 'No history to export', 'warning');
        return;
      }
      
      let report = 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n';
      report += '                    PHISHGUARD AI - SCAN REPORT\n';
      report += 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n';
      report += `Generated: ${new Date().toLocaleString()}\n`;
      report += `Total Scans: ${scanHistory.length}\n`;
      report += `Threats Detected: ${scanHistory.filter(h => h.prediction === 'phishing').length}\n`;
      report += `Safe Messages: ${scanHistory.filter(h => h.prediction === 'safe').length}\n\n`;
      report += 'â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n';
      
      scanHistory.forEach((entry, i) => {
        const date = new Date(entry.timestamp);
        report += `SCAN #${i + 1}\n`;
        report += `Date: ${date.toLocaleString()}\n`;
        report += `Result: ${entry.prediction.toUpperCase()}\n`;
        report += `Confidence: ${entry.confidence.toFixed(1)}%\n`;
        if (entry.prediction === 'phishing' && entry.threatType) {
          report += `Threat Type: ${entry.threatType}\n`;
        }
        if (entry.indicators && entry.indicators.length > 0) {
          report += `Indicators: ${entry.indicators.join(', ')}\n`;
        }
        report += `Message:\n${entry.fullMessage}\n`;
        report += '\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n';
      });
      
      report += 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n';
      report += '                    END OF REPORT\n';
      report += 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n';
      
      const blob = new Blob([report], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `phishguard-report-${Date.now()}.txt`;
      a.click();
      URL.revokeObjectURL(url);
      
      showToast('Exported!', 'Report downloaded successfully', 'success');
    });
    
    // Paste Button
    const pasteBtn = document.getElementById('paste-btn');
    pasteBtn.addEventListener('click', async () => {
      try {
        const text = await navigator.clipboard.readText();
        if (text) {
          messageInput.value = text;
          charCount.textContent = `${text.length} characters`;
          wordCount.textContent = `${text.trim().split(/\s+/).length} words`;
          showToast('Pasted', 'Text pasted from clipboard', 'success');
        }
      } catch (err) {
        showToast('Paste Failed', 'Could not access clipboard', 'error');
      }
    });
    
    // Character and word count
    messageInput.addEventListener('input', () => {
      const text = messageInput.value;
      charCount.textContent = `${text.length} characters`;
      const words = text.trim() ? text.trim().split(/\s+/).length : 0;
      wordCount.textContent = `${words} words`;
    });
    
    // Keyboard shortcut
    messageInput.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'Enter') {
        analyzeBtn.click();
      }
    });
    
    // Clear button
    clearBtn.addEventListener('click', () => {
      messageInput.value = '';
      charCount.textContent = '0 characters';
      wordCount.textContent = '0 words';
      resultContainer.classList.add('hidden');
      resultContainer.innerHTML = '';
      threatLevel.innerHTML = '<span class="w-2 h-2 bg-slate-500 rounded-full"></span><span class="text-xs text-slate-400 font-medium">STANDBY</span>';
    });
    
    // Sample cards
    document.querySelectorAll('.sample-card').forEach(card => {
      card.addEventListener('click', () => {
        const message = card.dataset.message;
        messageInput.value = message;
        charCount.textContent = `${message.length} characters`;
        const words = message.trim().split(/\s+/).length;
        wordCount.textContent = `${words} words`;
        messageInput.focus();
        messageInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
      });
    });
    
    // Analyze button
    analyzeBtn.addEventListener('click', async () => {
      const message = messageInput.value.trim();
      
      if (!message) {
        showNotification('Please enter a message to analyze', 'warning');
        messageInput.focus();
        return;
      }
      
      if (message.length < 10) {
        showNotification('Message too short. Please enter more text.', 'warning');
        return;
      }
      
      await analyzeMessage(message);
    });
    
    // Inline notification
    function showNotification(text, type = 'info') {
      const styles = {
        warning: 'bg-amber-500/10 border-amber-500/30 text-amber-400',
        error: 'bg-red-500/10 border-red-500/30 text-red-400',
        info: 'bg-cyan-500/10 border-cyan-500/30 text-cyan-400'
      };
      
      resultContainer.innerHTML = `
        <div class="${styles[type]} border rounded-2xl p-5 text-center">
          <p class="text-sm font-medium">${text}</p>
        </div>
      `;
      resultContainer.classList.remove('hidden');
    }
    
    // Main analysis
    async function analyzeMessage(message) {
      analyzeBtn.disabled = true;
      loadingState.classList.remove('hidden');
      resultContainer.classList.add('hidden');
      scanEffect.classList.remove('hidden');
      
      threatLevel.innerHTML = '<span class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></span><span class="text-xs text-cyan-400 font-medium">SCANNING</span>';
      
      const steps = [
        'Preprocessing input text...',
        'Extracting TF-IDF features...',
        'Running ML classification...',
        'Computing confidence scores...',
        'Generating threat report...'
      ];
      
      for (let i = 0; i < steps.length; i++) {
        loadingStep.textContent = steps[i];
        await new Promise(r => setTimeout(r, 350 + Math.random() * 350));
      }
      
      const result = simulateMLPrediction(message);
      
      loadingState.classList.add('hidden');
      scanEffect.classList.add('hidden');
      analyzeBtn.disabled = false;
      
      scanCount++;
      scanCountEl.textContent = scanCount;
      
      // Add to history
      addToHistory(message, result);
      
      if (result.prediction === 'phishing') {
        threatLevel.innerHTML = '<span class="w-2 h-2 bg-red-400 rounded-full threat-indicator"></span><span class="text-xs text-red-400 font-medium">THREAT DETECTED</span>';
      } else {
        threatLevel.innerHTML = '<span class="w-2 h-2 bg-emerald-400 rounded-full"></span><span class="text-xs text-emerald-400 font-medium">SAFE</span>';
      }
      
      displayResult(result);
    }
    
    // ML simulation
    function simulateMLPrediction(message) {
      const lowerMsg = message.toLowerCase();
      
      const phishingKeywords = [
        'urgent', 'immediately', 'verify', 'suspended', 'click here',
        'winner', 'won', 'prize', 'lottery', 'congratulations',
        'bank account', 'password', 'credit card', 'ssn',
        'act now', 'limited time', 'expire', 'confirm your',
        '.xyz', '.tk', '.ml', 'free-', 'secure-', 'verify',
        'locked', '24 hours', 'account closure'
      ];
      
      let phishingScore = 0;
      const detectedIndicators = [];
      
      phishingKeywords.forEach(keyword => {
        if (lowerMsg.includes(keyword)) {
          phishingScore += 10;
          detectedIndicators.push(keyword);
        }
      });
      
      // URL check
      const urlPattern = /https?:\/\/[^\s]+/gi;
      const urls = message.match(urlPattern) || [];
      if (urls.some(url => url.includes('.xyz') || url.includes('.tk') || url.includes('.ml') || url.includes('verify') || url.includes('secure-'))) {
        phishingScore += 25;
        detectedIndicators.push('suspicious URL');
      }
      
      // Urgency
      if ((lowerMsg.match(/!/g) || []).length > 2) {
        phishingScore += 10;
        detectedIndicators.push('excessive punctuation');
      }
      
      const confidence = Math.min(98, 55 + phishingScore);
      const isPhishing = phishingScore >= 25;
      
      // Threat type
      let threatType = 'General Phishing';
      if (lowerMsg.includes('bank') || lowerMsg.includes('account')) threatType = 'Credential Phishing';
      else if (lowerMsg.includes('lottery') || lowerMsg.includes('won') || lowerMsg.includes('prize')) threatType = 'Advance Fee Scam';
      else if (lowerMsg.includes('password') || lowerMsg.includes('verify')) threatType = 'Account Takeover';
      
      return {
        prediction: isPhishing ? 'phishing' : 'safe',
        confidence: isPhishing ? confidence : (100 - phishingScore / 2),
        indicators: [...new Set(detectedIndicators)].slice(0, 8),
        threatType: threatType
      };
    }
    
    // Display result
    function displayResult(result) {
      const isPhishing = result.prediction === 'phishing';
      const confidenceOffset = 377 * (1 - result.confidence / 100);
      
      resultContainer.innerHTML = `
        <div class="${isPhishing ? 'result-danger' : 'result-safe'} rounded-3xl p-6 sm:p-8">
          
          <div class="flex flex-col lg:flex-row items-center gap-6 mb-8">
            
            <!-- Confidence Ring -->
            <div class="confidence-ring flex-shrink-0">
              <svg viewBox="0 0 140 140" class="w-full h-full ${isPhishing ? 'text-red-500' : 'text-emerald-500'}">
                <circle class="track" cx="70" cy="70" r="60" fill="none" stroke-width="10"/>
                <circle class="progress" cx="70" cy="70" r="60" fill="none" stroke="currentColor" stroke-width="10" stroke-linecap="round" style="stroke-dashoffset: ${confidenceOffset}"/>
              </svg>
              <div class="absolute inset-0 flex items-center justify-center flex-col">
                <span class="text-3xl font-black ${isPhishing ? 'text-red-400' : 'text-emerald-400'}">${result.confidence.toFixed(0)}%</span>
                <span class="text-[10px] text-slate-400 uppercase tracking-wider">Confidence</span>
              </div>
            </div>
            
            <!-- Result Details -->
            <div class="text-center lg:text-left flex-1">
              <div class="flex items-center justify-center lg:justify-start gap-3 mb-3">
                <div class="w-14 h-14 rounded-2xl ${isPhishing ? 'icon-box-danger' : 'icon-box'} flex items-center justify-center">
                  ${isPhishing ? `
                    <svg class="w-7 h-7 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                    </svg>
                  ` : `
                    <svg class="w-7 h-7 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                  `}
                </div>
                <div>
                  <h3 class="text-2xl sm:text-3xl font-black ${isPhishing ? 'text-red-400' : 'text-emerald-400'}">
                    ${isPhishing ? 'Phishing Detected!' : 'Message is Safe'}
                  </h3>
                  ${isPhishing ? `<p class="text-sm text-slate-400">Threat Type: <span class="text-red-300 font-semibold">${result.threatType}</span></p>` : ''}
                </div>
              </div>
              <p class="text-sm text-slate-400 max-w-lg">
                ${isPhishing 
                  ? 'This message contains multiple indicators associated with phishing attacks. Do not click any links or provide personal information.' 
                  : 'Our ML model analyzed this message and found no suspicious patterns. It appears to be legitimate.'}
              </p>
            </div>
            
          </div>
          
          ${isPhishing && result.indicators.length > 0 ? `
            <!-- Detected Indicators -->
            <div class="bg-slate-900/60 rounded-2xl p-5 mb-6">
              <div class="flex items-center gap-2 mb-4">
                <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                </svg>
                <p class="text-sm font-bold text-white">Detected Risk Indicators</p>
              </div>
              <div class="flex flex-wrap gap-2">
                ${result.indicators.map(ind => `
                  <span class="px-3 py-1.5 bg-red-500/10 border border-red-500/20 rounded-xl text-xs text-red-300 font-semibold">${ind}</span>
                `).join('')}
              </div>
            </div>
          ` : ''}
          
          ${!isPhishing ? `
            <!-- Safe Analysis -->
            <div class="bg-slate-900/60 rounded-2xl p-5 mb-6">
              <div class="flex items-center gap-2 mb-4">
                <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <p class="text-sm font-bold text-white">Analysis Summary</p>
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <div class="flex items-center gap-3">
                  <span class="w-7 h-7 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                    </svg>
                  </span>
                  <span class="text-sm text-slate-300">No suspicious keywords</span>
                </div>
                <div class="flex items-center gap-3">
                  <span class="w-7 h-7 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                    </svg>
                  </span>
                  <span class="text-sm text-slate-300">No malicious URLs</span>
                </div>
                <div class="flex items-center gap-3">
                  <span class="w-7 h-7 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                    </svg>
                  </span>
                  <span class="text-sm text-slate-300">Normal message structure</span>
                </div>
                <div class="flex items-center gap-3">
                  <span class="w-7 h-7 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                    </svg>
                  </span>
                  <span class="text-sm text-slate-300">No urgency tactics</span>
                </div>
              </div>
            </div>
          ` : ''}
          
          <!-- Detailed Analysis -->
          <div class="bg-slate-900/60 rounded-2xl p-5 mb-6">
            <div class="flex items-center gap-2 mb-4">
              <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
              </svg>
              <p class="text-sm font-bold text-white">Detailed Threat Analysis</p>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
              <div class="text-center p-3 rounded-xl bg-slate-800/50">
                <p class="text-2xl font-black ${isPhishing ? 'text-red-400' : 'text-emerald-400'}">${isPhishing ? 'HIGH' : 'LOW'}</p>
                <p class="text-[10px] text-slate-500 uppercase tracking-wider">Risk Level</p>
              </div>
              <div class="text-center p-3 rounded-xl bg-slate-800/50">
                <p class="text-2xl font-black text-cyan-400">${result.indicators ? result.indicators.length : 0}</p>
                <p class="text-[10px] text-slate-500 uppercase tracking-wider">Indicators</p>
              </div>
              <div class="text-center p-3 rounded-xl bg-slate-800/50">
                <p class="text-2xl font-black text-violet-400">${Math.floor(Math.random() * 50) + 150}ms</p>
                <p class="text-[10px] text-slate-500 uppercase tracking-wider">Scan Time</p>
              </div>
              <div class="text-center p-3 rounded-xl bg-slate-800/50">
                <p class="text-2xl font-black text-amber-400">${isPhishing ? result.threatType.split(' ')[0] : 'None'}</p>
                <p class="text-[10px] text-slate-500 uppercase tracking-wider">Category</p>
              </div>
            </div>
          </div>
          
          <!-- Action Buttons -->
          <div class="flex flex-col sm:flex-row gap-3">
            <button id="copy-result" class="flex-1 py-4 rounded-2xl border-2 border-slate-600/30 text-slate-300 hover:bg-slate-500/10 font-bold transition-all flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
              </svg>
              Copy Result
            </button>
            <button id="analyze-another" class="flex-1 py-4 rounded-2xl ${isPhishing ? 'bg-red-500/20 text-red-400 hover:bg-red-500/30' : 'bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30'} font-bold transition-all flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
              </svg>
              Analyze Another
            </button>
          </div>
          
        </div>
      `;
      
      resultContainer.classList.remove('hidden');
      
      // Animate confidence ring
      setTimeout(() => {
        const progress = resultContainer.querySelector('.progress');
        if (progress) progress.style.strokeDashoffset = confidenceOffset;
      }, 100);
      
      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      
      document.getElementById('analyze-another').addEventListener('click', () => {
        messageInput.value = '';
        charCount.textContent = '0 characters';
        wordCount.textContent = '0 words';
        resultContainer.classList.add('hidden');
        threatLevel.innerHTML = '<span class="w-2 h-2 bg-slate-500 rounded-full"></span><span class="text-xs text-slate-400 font-medium">STANDBY</span>';
        messageInput.focus();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
      
      // Copy Result
      document.getElementById('copy-result').addEventListener('click', () => {
        const resultText = `PhishGuard AI Analysis Result
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Result: ${result.prediction.toUpperCase()}
Confidence: ${result.confidence.toFixed(1)}%
${result.prediction === 'phishing' ? `Threat Type: ${result.threatType}\nIndicators: ${result.indicators.join(', ')}` : 'Status: No threats detected'}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
        
        navigator.clipboard.writeText(resultText).then(() => {
          showToast('Copied!', 'Result copied to clipboard', 'success');
        }).catch(() => {
          showToast('Copy Failed', 'Could not copy to clipboard', 'error');
        });
      });
    }
    
    // Element SDK
    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      const heroTitle = document.getElementById('hero-title');
      const heroSubtitle = document.getElementById('hero-subtitle');
      const footerText = document.getElementById('footer-text');
      
      // Update hero title with gradient span
      const titleText = config.hero_title || defaultConfig.hero_title;
      const parts = titleText.split(' ');
      if (parts.length > 2) {
        const lastTwo = parts.slice(-2).join(' ');
        const firstPart = parts.slice(0, -2).join(' ');
        heroTitle.innerHTML = `${firstPart}<br><span class="bg-gradient-to-r from-emerald-400 via-cyan-400 to-violet-400 bg-clip-text text-transparent neon-text">${lastTwo}</span>`;
      } else {
        heroTitle.innerHTML = `<span class="bg-gradient-to-r from-emerald-400 via-cyan-400 to-violet-400 bg-clip-text text-transparent neon-text">${titleText}</span>`;
      }
      
      heroSubtitle.textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
      btnText.textContent = config.button_text || defaultConfig.button_text;
      footerText.textContent = config.footer_text || defaultConfig.footer_text;
      
      if (config.font_family) {
        document.body.style.fontFamily = `${config.font_family}, 'Outfit', sans-serif`;
      }
      
      if (config.font_size) {
        const base = config.font_size;
        heroTitle.style.fontSize = `${base * 2.5}px`;
        heroSubtitle.style.fontSize = `${base}px`;
      }
    }
    
    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          { get: () => cfg.background_color || defaultConfig.background_color, set: (v) => { cfg.background_color = v; window.elementSdk.setConfig({ background_color: v }); } },
          { get: () => cfg.surface_color || defaultConfig.surface_color, set: (v) => { cfg.surface_color = v; window.elementSdk.setConfig({ surface_color: v }); } },
          { get: () => cfg.text_color || defaultConfig.text_color, set: (v) => { cfg.text_color = v; window.elementSdk.setConfig({ text_color: v }); } },
          { get: () => cfg.primary_color || defaultConfig.primary_color, set: (v) => { cfg.primary_color = v; window.elementSdk.setConfig({ primary_color: v }); } },
          { get: () => cfg.accent_color || defaultConfig.accent_color, set: (v) => { cfg.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); } }
        ],
        borderables: [],
        fontEditable: { get: () => cfg.font_family || 'Outfit', set: (v) => { cfg.font_family = v; window.elementSdk.setConfig({ font_family: v }); } },
        fontSizeable: { get: () => cfg.font_size || 16, set: (v) => { cfg.font_size = v; window.elementSdk.setConfig({ font_size: v }); } }
      };
    }
    
    function mapToEditPanelValues(cfg) {
      return new Map([
        ['hero_title', cfg.hero_title || defaultConfig.hero_title],
        ['hero_subtitle', cfg.hero_subtitle || defaultConfig.hero_subtitle],
        ['button_text', cfg.button_text || defaultConfig.button_text],
        ['footer_text', cfg.footer_text || defaultConfig.footer_text]
      ]);
    }
    
    // Initialize
    if (window.elementSdk) {
      window.elementSdk.init({ defaultConfig, onConfigChange, mapToCapabilities, mapToEditPanelValues });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9afdcdff922a7f8b',t:'MTc2NjA1MTkzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>